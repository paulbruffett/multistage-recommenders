$schema: https://azuremlschemas.azureedge.net/latest/commandJob.schema.json
command: |
  ls ${{inputs.data_dir}}
  python dataprep.py --file-location ${{inputs.data_dir}} --output-location ${{outputs.output}}
code: src
environment:
        name: "prepare_data_environment"
        version: 1
        image: mcr.microsoft.com/azureml/curated/tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu:25
        conda_file: ./environment/environment.yml
inputs:
  data_dir:
    type: uri_folder 
    path: azureml://subscriptions/3bdbda93-8c3a-472b-bdde-25e3028fc307/resourcegroups/mlworkspace/workspaces/mlworkspace/datastores/workspaceblobstore/paths/aliccp_train/
outputs:
  output:
    type: uri_folder
    path: azureml://subscriptions/3bdbda93-8c3a-472b-bdde-25e3028fc307/resourcegroups/mlworkspace/workspaces/mlworkspace/datastores/workspaceblobstore/paths/
    mode: rw_mount
compute: azureml:dataprepcpu
